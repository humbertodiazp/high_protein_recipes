<div class="pr-40  mt-2"> 

  <%# save & share button %>
  <div class="flex justify-end     " >
    <div class="flex justify-end gap-2 mt-1 ">
      <div class="flex justify-between">
        <span class="material-symbols-outlined">
        send
        </span>
        <p class="text-xs text-gray-800">
          Share
        </p>
      </div>
      <div class="flex justify-between">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 fill-orange-300">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z" />
        </svg>
        <p class="text-xs text text-gray-800">
          Save
        </p>
      </div>
      <div class="flex ml-4 hover ">
        <%= link_to "Edit", edit_recipe_path(@recipe), class: " hover:text-gray-600 text-gray-400  "%>
      </div>
    </div>
  </div>

  <%# recipe name %>
  <div class="flex flex-col mb-10  " >
    <div class="flex font-bold text-2xl  font-sanchez">
      <%= @recipe.name %>
    </div>
    <div class="flex text-sm ml-1 text-gray-400 gap-1 "> Created by: <%= link_to @recipe.user.full_name, user_path(@recipe.user)  %> </div>
  </div>

  <%# image and ingredients  %>
  <div class='flex  gap-1  mb-2 '>
    <div class="flex justify-center pr-1">
        <%= image_tag(@recipe.image.variant(resize_to_limit: [500, 500])) if @recipe.image.attached? %>   
    </div>
    <div class="flex  flex-col justify-center mb-20  gap-2 pl-2  w-6/12 ">
      <div class="flex  border-4 md:border-dotted border-amber-500    rounded-2xl shadow-md p-10 m-5 ">
        <div class="flex flex-col font-bold text-black-800 0 my-3 break-words">
          <div class="flex font-sanchez text-center p-1">
            <strong>Ingredients:</strong>
          </div>
          <ul class="text-l font-normal text-black-400 my-3 break-words list-disc m-3 py-2 px-4">
            <% @recipe.ingredients.each do |ingredient| %>
              <li class=" font-extrabold  text-green-500 "> 
                <div class="text-black font-normal ">
                  <%= ingredient.description  %>
                </div>
              </li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <%# instructions %>  
  <div class="flex flex-col align-top  gap-2 pl-4  w-6/12  "> 
    <div class=" flex justify-left  text-gray-600 ">

      <strong > Instructions: </strong>
    </div>


      <div class=" flex  text-sm font-normal text-black-400 p-5 my-3 mx-2 break-word ">
            <%= @recipe.content %>
      </div>
  </div>

        <div>


              <%= link_to "Back to recipes", recipes_path, class: "w-24 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
              <%= button_to "Delete this recipe", recipe_path(@recipe), class: "w-24 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",  method: :delete %>
        </div>

        <div class="max-h-fit w-full overflow-y-auto bg-white-800  shadow-md dark:bg-dm-2 dark:shadow-none rounded-[6px] duration-500 my-3 py-3 px-4 border border-gray-100 dark:border-gray-700">
            <h2 class="text-gray-800 dark:text-gray-600 my-3 break-words">
              <div class="text-gray-800" >
              Comments 
              </div>
            </h2>
            <% if user_signed_in? %>
              <%= render partial: "comments/form", locals:{comment: Comment.new, commentable: @recipe} %>
              <% else %>
                <p class="text-gray-800 dark:text-gray-600 my-3 break-words">
                  <%= link_to "Sign up", new_user_registration_path %> or <%= link_to "log in", new_user_session_path %> to comment 
                </p>
            <% end %>
          </div>
        </div>

    <%=turbo_stream_from @recipe, :comments%>
    <div> 
      <%= tag.div id: "#{dom_id(@recipe)}_comments" do %>
        <%= render partial: "comments/comment_with_replies", collection: @recipe.comments, as: :comment%>
      <% end %>
      </div>
</div>







